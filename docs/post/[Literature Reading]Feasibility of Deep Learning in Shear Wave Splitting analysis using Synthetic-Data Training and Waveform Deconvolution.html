<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />
    
    <link rel="icon" href="https://avatars.githubusercontent.com/u/160511559?s=400&u=68ec73daff523efd8652079b221d42e446d01cb6&v=4"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="## Abstract

背景与传统方法：传统方法通过逆转分裂过程，通过频域和时域操作，最小化波形切向能量，得到分裂参数。">
<meta property="og:title" content="[Literature Reading]Feasibility of Deep Learning in Shear Wave Splitting analysis using Synthetic-Data Training and Waveform Deconvolution">
<meta property="og:description" content="## Abstract

背景与传统方法：传统方法通过逆转分裂过程，通过频域和时域操作，最小化波形切向能量，得到分裂参数。">
<meta property="og:type" content="article">
<meta property="og:url" content="https://Lszidv.github.io/post/%5BLiterature%20Reading%5DFeasibility%20of%20Deep%20Learning%20in%20Shear%20Wave%20Splitting%20analysis%20using%20Synthetic-Data%20Training%20and%20Waveform%20Deconvolution.html">
<meta property="og:image" content="https://avatars.githubusercontent.com/u/160511559?s=400&u=68ec73daff523efd8652079b221d42e446d01cb6&v=4">
<title>[Literature Reading]Feasibility of Deep Learning in Shear Wave Splitting analysis using Synthetic-Data Training and Waveform Deconvolution</title>



</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
.copy-feedback {
    display: none;
    position: absolute;
    top: 10px;
    right: 50px;
    color: var(--color-fg-on-emphasis);
    background-color: var(--color-fg-muted);
    border-radius: 3px;
    padding: 5px 8px;
    font-size: 12px;
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">[Literature Reading]Feasibility of Deep Learning in Shear Wave Splitting analysis using Synthetic-Data Training and Waveform Deconvolution</h1>
<div class="title-right">
    <a href="https://Lszidv.github.io" id="buttonHome" class="btn btn-invisible circle" title="首页">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/Lszidv/Lszidv.github.io/issues/6" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="切换主题">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><h2>Abstract</h2>
<p>背景与传统方法：传统方法通过逆转分裂过程，通过频域和时域操作，最小化波形切向能量，得到分裂参数。<br>
swsnet模型：自动化从预选波形中提取分裂参数<br>
合成数据训练：缺乏标注数据，生成合成数据集</p>
<p>模型性能：在带噪声的合成测试数据上，SWSNet能够以9.7°（φ）和0.14秒（δt）的均方根误差（RMSE）进行预测<br>
实际数据应用：实际的USArray数据集，通过去卷积步骤对波形进行预处理，使其均匀化。<br>
模型在实际数据上的表现与以往的研究一致，预测结果的平均绝对差为9.6°（φ）和0.16秒（δt）</p>
<h2>1.Introduction</h2>
<p> 研究背景<br>
地震各向异性分析是地球动力学研究的重要手段，通过S波分裂技术获取地幔内部的动态信息，为理解地幔流动和变形提供了数据支持。</p>
<p> 各向异性的形成机制<br>
应变诱导晶格优选取向（LPO）：由橄榄石等上地幔矿物在应变条件下排列导致。<br>
形状优选取向（SPO）：由垂直排列的充液裂隙和裂缝引起。<br>
两种机制共同作用，塑造了地幔的各向异性特性。</p>
<p> 分裂参数的意义<br>
快波方向（φ）反映各向异性材料的取向，与局部应力场和流动方向密切相关。<br>
时间延迟（δt）量化各向异性强度及其影响范围，提供了对地幔结构深度和复杂性的认识。</p>
<p> XKS相位的应用<br>
作为研究地震各向异性的主要工具，XKS相位（包括SKS、SKKS和PKS）因其与核幔边界的极化特性，广泛应用于研究深部地幔的动力过程。<br>
波在核幔边界的转换会使得其初始极化方向（未进入各向异性介质时）与震中背方位角一致。<br>
这是因为转换过程中，核幔边界对波动方向的约束与震中到接收点的传播路径成固定关系。</p>
<p>尽管已有多种传统方法（如网格搜索、相关分析）和（半）自动化技术，但这些方法受限于效率和适应性，缺乏对深度学习潜力的全面探索。</p>
<p> 未来展望:<br>
通过扩大标注真实数据集，进一步提高模型的泛化能力。<br>
探索多层各向异性假设及更复杂的模型，增强实际应用价值。<br>
将深度学习技术推广至更多地震学任务，为研究地球内部动力学提供新工具。</p>
<h2>2.Methods and Results</h2>
<p>监督学习方法，通过标注数据训练深度学习模型，旨在实现从波形到分裂参数（φ和δt）的映射关系。模型通过优化损失函数，最小化预测值与真实值之间的误差。<br>
生成合成波形以替代真实数据，确保标注数据的可用性和一致性。</p>
<h4>2.1 剪切波分裂模型</h4>
<p> 剪切波分裂的基本原理：<br>
单一各向异性层模型：假设各向异性层具有水平对称轴（快轴），垂直入射的剪切波分裂为快波和慢波，快波平行于对称轴，慢波垂直于对称轴。<br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/a7e4186e-c2f4-48b3-bd4a-a01938fa1b5d"><img src="https://github.com/user-attachments/assets/a7e4186e-c2f4-48b3-bd4a-a01938fa1b5d" alt="坐标系" style="max-width: 100%;"></a></p>
<p> 数学描述与简化：<br>
频域方程：通过矩阵形式表达剪切波分裂后的径向和横向位移分量，揭示了其与震中背方位角和快轴方向的关系。<br>
低频近似：在周期较长的情况下，方程得到简化，为数据处理（如去卷积和再卷积）提供了可行的数学框架。</p>
<p>$$
\begin{bmatrix}
u^{(r)}_1 \\
u^{(t)}_1
\end{bmatrix}=
\begin{bmatrix}
\cos \theta + i \sin \theta \cos 2\alpha &amp; i \sin \theta \sin 2\alpha \\
i \sin \theta \sin 2\alpha &amp; \cos \theta - i \sin \theta \cos 2\alpha
\end{bmatrix}
\begin{bmatrix}
u^{(r)}_0 \\
u^{(t)}_0
\end{bmatrix}
$$</p>
<p>其中：</p>
<ul>
<li>$\theta = \frac{\omega \delta t}{2}$</li>
<li>
$\alpha = \beta - \phi$ 是震中背方位角与快轴方向之间的角度差</li>
<li>下标 $0$ 表示波形进入各向异性层之前的状态</li>
</ul>
<p>对于径向对称地球中的 XKS 相位，可以假设 $u^{(t)}_0 = 0$，则简化为：</p>
<p>$$
u^{(r)}_1 = \left(\cos \theta + i \sin \theta \cos 2\alpha \right) u^{(r)}_0
$$
$$
u^{(t)}_1 = i \sin \theta \sin 2\alpha u^{(r)}_0
$$</p>
<p>在长周期（ $T \gg \delta t$ ）的近似下，进一步简化为：</p>
<p>$$
u^{(r)}_1 \approx \left(1 + i\frac{\omega \delta t}{2}\cos 2\alpha\right) u^{(r)}_0
$$
$$
u^{(t)}_1 \approx i\frac{\omega \delta t}{2} \sin 2\alpha u^{(r)}_0
$$</p>
<h4>2.2 DL分析——合成数据</h4>
<pre class="notranslate"><code class="notranslate">使用合成数据训练模型，覆盖多种地震波传播路径与快轴方向组合。随机生成的 𝛿𝑡和 𝜙增强了数据的多样性。
样本总数达到10^6，数据按 80:20 分为训练集与验证集。
结合卷积层（特征提取）与 Bi-LSTM 层（时间依赖性建模），以捕获地震波形的空间与时间特性。
使用 ReLU 激活函数和 Sigmoid 激活函数，分别用于回归和分类任务。
使用 Adam 优化器、早停机制（验证集损失不下降8轮即停止），避免过拟合。模型最终在35轮内完成训练。
模型输出包括非零分裂概率以及归一化后的 𝛿𝑡 和 𝜙，实现剪切波分裂的自动化分析。
</code></pre>
<h5>2.2.1 结论——合成数据</h5>
<pre class="notranslate"><code class="notranslate">在训练数据中对快波和慢波分量独立添加噪声，使用随机噪声和高斯噪声两种类型。
噪声水平为正态分布，均值为30%，标准差为10%，模拟了复杂且具有随机性的真实噪声条件。

在随机噪声测试集上，模型预测的 RMSE 为 5.9 °（𝛼）和 0.12 秒（𝛿𝑡），表现出高精度。
</code></pre>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/44987727-716d-4f68-99c5-a9e960ea883d"><img src="https://github.com/user-attachments/assets/44987727-716d-4f68-99c5-a9e960ea883d" alt="随机噪声" style="max-width: 100%;"></a><br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/3b518f51-5e15-488b-9987-541d3c5116ed"><img src="https://github.com/user-attachments/assets/3b518f51-5e15-488b-9987-541d3c5116ed" alt="高斯噪声" style="max-width: 100%;"></a></p>
<h4>2.3 应用USarray上的真实数据</h4>
<pre class="notranslate"><code class="notranslate">研究使用USArray的真实地震波形测试，并将结果与传统方法（如Liu et al., 2014）和自动化方法（Splitracer工具箱）进行对比。
通过严格的质量检查，使用横向分量能量减少率（≥60%）筛选高质量数据，保证了分裂参数平均值的可靠性。

直接将基于合成数据训练的模型应用于真实波形时，结果与传统方法之间存在显著偏差。
原因是合成波形在物理特性和复杂性上无法完全模拟真实数据。
合成数据与真实数据之间的特性差异需要通过中间步骤来弥合。(可以包括数据校正、去卷积或增强模型对真实数据的适应性。)
</code></pre>
<h4>2.4 反卷积</h4>
<pre class="notranslate"><code class="notranslate">真实波形的复杂性受到震源机制和路径效应的影响，给直接分析带来了挑战。
去卷积方法通过去除震源和路径效应，统一波形特性，为剪切波分裂参数的提取奠定基础。

径向分量被归一化为标准值1，用作基准。
横向分量中的分裂特征被提取，通过频域导数和调制操作进行量化。

方法假设径向分量在进入各向异性层前未受影响，适用于波形周期远大于延迟时间的情况。
通过参考波形的卷积处理，进一步标准化波形，以提高后续分析的准确性。
</code></pre>
<p>我们在频域中对径向分量和横向分量进行去卷积，具体公式如下：</p>
<p>$$
u^{(r)}_* = \frac{u^{(r)}_1}{u^{(r)}_1}
$$</p>
<p>$$
\quad u^{(t)}_* = i\omega \frac{\delta t}{2} \sin 2\alpha \frac{u^{(r)}_0}{u^{(r)}_1} \approx i\omega \frac{\delta t}{2} \sin 2\alpha
$$</p>
<p>其中，假设：</p>
<p>$$
\frac{u^{(r)}_0}{u^{(r)}_1} \approx 1
$$</p>
<p>这意味着径向分量足以代表未进入各向异性层前的波形。</p>
<p>结果表明：</p>
<ul>
<li>径向分量在频域中被归一化为 1，对应于时域中的 $\delta$ 函数。</li>
<li>横向分量由 $\sin 2\alpha$ 调制，且包含了剪切波分裂信息。</li>
<li>
</li></ul>
<pre class="notranslate"><code class="notranslate">解决真实波形由于震源机制、路径效应和噪声干扰引起的复杂性。
应用反卷积去除震源和路径效应，使径向分量成为标准化的输入。
使用规范化的波形与数据重新卷积，以实现波形特征的统一化。
进一步处理时仅保留横向分量作为剪切波分裂参数（快轴方向 $\alpha$ 和时间延迟 $\delta t$）的主要信息载体。


</code></pre>
<h4><strong>1. 数据准备</strong></h4>
<ol>
<li>
<p><strong>波形选择</strong>：</p>
<ul>
<li>选取目标地震事件的径向分量 ($u^{(r)}$) 和横向分量 ($u^{(t)}$)，对应特定的时间窗口。</li>
<li>对真实数据进行重新采样，采样频率统一为 50 Hz，并去除均值。</li>
</ul>
</li>
<li>
<p><strong>初步平滑与标准化</strong>：</p>
<ul>
<li>对波形应用 <strong>Hanning 窗</strong>，以平滑时间窗口边界，减少边界效应。</li>
<li>对数据进行 <strong>零填充 (zero-padding)</strong>，使每个样本均匀包含 2000 个采样点，覆盖 40 秒时间窗口。</li>
</ul>
</li>
<li>
<p><strong>滤波去噪</strong>：</p>
<ul>
<li>使用 <strong>Butterworth 低通滤波器</strong>（截止频率 1 Hz），抑制高频噪声，同时保留主要的波形特征。</li>
</ul>
</li>
</ol>
<hr>
<h4><strong>2. 反卷积与重卷积：波形标准化</strong></h4>
<ol>
<li>
<p><strong>反卷积处理</strong></p>
<ul>
<li>将径向分量 ($u^{(r)}$) 作为参考，从径向分量和横向分量中分别去除震源效应和路径效应。</li>
<li>简化后的横向分量中，仅包含与分裂参数α，δt相关的特征。</li>
<li>假设径向分量波形是入射波形的充分代表（即 $u^{(r)}_0/u^{(r)}_1 \approx 1$）。</li>
<li>去除路径效应后，横向分量的主要特征变为振幅由 $\sin 2\alpha$ 调制，并包含 $\delta t$ 的信息。</li>
</ul>
</li>
<li>
<p><strong>重卷积处理</strong>：</p>
<ul>
<li>将标准波形（如归一化的指数函数导数）与反卷积后的径向分量和横向分量进行 <strong>重卷积</strong>，以生成标准化波形。</li>
<li>对横向分量再应用 <strong>Hanning 窗</strong>，减弱可能出现的余弦振荡效应。</li>
</ul>
</li>
<li>
<p><strong>最终标准化</strong>：</p>
<ul>
<li>截取波形的中央 10 秒，去除无关的边界信号。</li>
<li>对横向分量进行 <strong>归一化</strong>，确保振幅的绝对最大值为 1。</li>
</ul>
</li>
</ol>
<hr>
<h4><strong>3. 深度学习模型（SWSNet）训练</strong></h4>
<ol>
<li>
<p><strong>数据输入与特征</strong>：</p>
<ul>
<li>输入数据仅包含反卷积与重卷积后的横向分量，以降低数据维度并突出有效信息。</li>
<li>波形标签 $\alpha$和 $\delta t$均归一化至 [0, 1] 区间，促进训练稳定性和收敛速度。</li>
</ul>
</li>
<li>
<p><strong>模型架构设计</strong>：</p>
<ul>
<li>
<strong>网络组成</strong>：
<ul>
<li>卷积层用于提取波形特征。</li>
<li>ReLU（Rectified Linear Unit）作为激活函数，提高非线性拟合能力。</li>
<li>Dropout 层防止过拟合。</li>
<li>输出层包括三个节点，分别对应：
<ul>
<li>测量为非零（non-null）的概率（Sigmoid 激活）。</li>
<li>归一化的 $\alpha$ 和 $\delta t$ 预测值（ReLU 激活）。</li>
</ul>
</li>
</ul>
</li>
<li>
<strong>超参数优化</strong>：
<ul>
<li>选择合适的卷积核大小、网络层数和 LSTM 层维度。</li>
<li>使用 Adam 优化器，批次大小为 256。</li>
<li>提前停止（Early Stopping）：当验证集损失连续 8 个 Epoch 不再下降时，停止训练。</li>
</ul>
</li>
<li>
<strong>最佳训练规模</strong>：
<ul>
<li>通过实验确定训练数据规模为 10^6 个波形，以确保模型在训练过程中性能的稳定性和泛化能力。</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>训练与验证</strong>：</p>
<ul>
<li>在合成波形（包括随机噪声和高斯噪声）上进行训练和验证。</li>
<li>为提高模型对噪声数据的适应能力，分别测试添加随机噪声和高斯噪声的效果。</li>
</ul>
</li>
</ol>
<hr>
<h4>2.5 在USarray上的应用</h4>
<pre class="notranslate"><code class="notranslate">阈值优化
使用 SWSNet 分析 USArray 数据时，选择 60% 的横向分量能量减少阈值最为合适。该阈值不仅降低了分裂参数测站平均值的绝对误差，还保留了足够多的有效测站。

筛选结果
从 106,323 条波形中筛选出 8.2%（8699 条）作为有效波形，与 Link 等 (2022) 报告的 7.6% 相近，表明筛选标准具有一致性。

分裂参数性能对比
图 6 和表 1 展示了 SWSNet 在单个波形上的分裂参数，与 SplitRacer 工具计算的参数相近，表明模型具有较好的可靠性。

随机噪声 vs 高斯噪声
实验发现，虽然两种噪声训练的模型在合成数据集上表现相当，但随机噪声训练的模型在真实数据上的表现更优，可能由于其避免了高斯噪声训练中的过拟合问题。

对测站平均结果的可视化
图 7 展示了 SWSNet 和 Liu 等 (2014) 分析的测站平均结果的对比。SWSNet 未采用联合分裂分析，与 Liu 等的基于单个分裂相位平均的分析方法更为直接可比。
</code></pre>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/a6c1d021-c502-43de-88e5-adc3aea611b6"><img src="https://github.com/user-attachments/assets/a6c1d021-c502-43de-88e5-adc3aea611b6" alt="Figure6" style="max-width: 100%;"></a><br>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/user-attachments/assets/16944e12-7038-41d4-a490-5060f06db868"><img src="https://github.com/user-attachments/assets/16944e12-7038-41d4-a490-5060f06db868" alt="7" style="max-width: 100%;"></a></p>
<h2>3.Discussion</h2>
<pre class="notranslate"><code class="notranslate">1. SWSNet 的整体表现
精确性：SWSNet 和传统方法（如 Liu 等，2014）在数据集选择(人工；波形的筛选采用了 60% 横向分量能量减少的阈值)和处理方式不同
对单个波形的预测，φ 和 δt 的平均绝对误差分别为 11.08° 和 0.239 s，表明模型的预测具有较高的可信度。
适应性：SWSNet 能够适应多种噪声条件（如随机噪声和高斯噪声），对实际数据的应用显示出较好的泛化能力。此外，模型可以有效处理多层各向异性条件下的复杂波形，预测结果与理论曲线吻合良好。

2. 多层各向异性情况下的表现
多层条件验证：通过模拟两层各向异性的波形数据，SWSNet 成功预测了有效延迟时间及其随背方位角的变化，与理论模型（Silver 和 Savage，1994）一致。
边界情况处理：在 null 测量条件下（横向分量很小的情况），尽管部分预测出现小幅偏差，但整体性能仍优于传统方法。

3. 时间效率的显著提升
效率优势：SWSNet 的计算效率显著高于传统网格搜索算法。在计算单个波形的分裂参数时，SWSNet 平均耗时仅为网格搜索的 1/3 至 1/6。对于大规模地震台阵（如 USArray 数据集）的分析，这一效率优势尤为突出。
可扩展性：基于其时间效率，SWSNet 可广泛应用于高分辨率的实时地震监测系统。

4. 数据筛选与可靠性改进
横向能量减少阈值：应用能量减少阈值（60%）来筛选波形，显著提高了站点平均值的计算精度。这种方法无需依赖先验知识，且适用于多层各向异性复杂条件。
一致性验证：通过对 SWSNet 和 Liu 等（2014）使用的相同波形子集进行对比分析，进一步验证了 SWSNet 的可靠性。

5. 局限性与优化方向
横向分量依赖：由于 SWSNet 的训练和预测仅依赖于去卷积后的横向分量，可能在某些低振幅横向分量的情况下降低性能。
噪声影响：尽管模型能适应不同类型的噪声，但随机噪声训练数据在实际数据中的表现更优，说明模型对噪声特性建模的重要性。
</code></pre>
<h2>4.Conclusion</h2>
<p>提出了 SWSNet，这是一种基于深度学习的剪切波分裂参数提取模型，具有替代传统网格搜索方法的潜力。<br>
利用去卷积方法解决了真实波形与合成波形之间的差异问题，使得模型能够在真实数据中表现更好。<br>
将模型应用于 USArray 数据集，显示出与传统方法（如 Liu et al., 2014）的结果一致性，同时显著提高了计算效率。</p>
<p><a href="https://seismica.library.mcgill.ca/article/view/1124" rel="nofollow">Paper Link</a></p></div>
<div style="font-size:small;margin-top:8px;float:right;">转载请注明出处</div>

<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">评论</button>
<div class="comments" id="comments"></div>

</div>
    <div id="footer"><div id="footer1">Copyright © <span id="copyrightYear"></span> <a href="https://Lszidv.github.io">芜尽</a></div>
<div id="footer2">
    <span id="runday"></span><span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a></span>
</div>

<script>
var now=new Date();
document.getElementById("copyrightYear").innerHTML=now.getFullYear();

if(""!=""){
    var startSite=new Date("");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("runday").innerHTML="网站运行"+diffDay+"天"+" • ";
}
</script></div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z', 'copy': 'M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z', 'check': 'M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);



function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","Lszidv/Lszidv.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}

document.addEventListener('DOMContentLoaded', () => {
    const createClipboardHTML = (codeContent, additionalClasses = '') => `
        <pre class="notranslate"><code class="notranslate">${codeContent}</code></pre>
        <div class="clipboard-container position-absolute right-0 top-0 ${additionalClasses}">
            <clipboard-copy class="ClipboardButton btn m-2 p-0" role="button" style="display: inherit;">
                <svg height="16" width="16" class="octicon octicon-copy m-2"><path d="${IconList["copy"]}"></path></svg>
                <svg height="16" width="16" class="octicon octicon-check color-fg-success m-2 d-none"><path d="${IconList["check"]}"></path></svg>
            </clipboard-copy>
            <div class="copy-feedback">Copied!</div>
        </div>
    `;

    const handleCodeElements = (selector = '') => {
        document.querySelectorAll(selector).forEach(codeElement => {
            const codeContent = codeElement.innerHTML;
            const newStructure = document.createElement('div');
            newStructure.className = 'snippet-clipboard-content position-relative overflow-auto';
            newStructure.innerHTML = createClipboardHTML(codeContent);

            const parentElement = codeElement.parentElement;
            if (selector.includes('highlight')) {
                parentElement.insertBefore(newStructure, codeElement.nextSibling);
                parentElement.removeChild(codeElement);
            } else {
                parentElement.parentElement.replaceChild(newStructure, parentElement);
            }
        });
    };

    handleCodeElements('pre.notranslate > code.notranslate');
    handleCodeElements('div.highlight > pre.notranslate');

    let currentFeedback = null;
    document.querySelectorAll('clipboard-copy').forEach(copyButton => {
        copyButton.addEventListener('click', () => {
            const codeContent = copyButton.closest('.snippet-clipboard-content').innerText;
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = codeContent;
            document.body.appendChild(tempTextArea);
            tempTextArea.select();
            document.execCommand('copy');
            document.body.removeChild(tempTextArea);

            const copyIcon = copyButton.querySelector('.octicon-copy');
            const checkIcon = copyButton.querySelector('.octicon-check');
            const copyFeedback = copyButton.nextElementSibling;

            if (currentFeedback && currentFeedback !== copyFeedback) {currentFeedback.style.display = 'none';}
            currentFeedback = copyFeedback;

            copyIcon.classList.add('d-none');
            checkIcon.classList.remove('d-none');
            copyFeedback.style.display = 'block';
            copyButton.style.borderColor = 'var(--color-success-fg)';

            setTimeout(() => {
                copyIcon.classList.remove('d-none');
                checkIcon.classList.add('d-none');
                copyFeedback.style.display = 'none';
                copyButton.style.borderColor = '';
            }, 2000);
        });
    });
});

</script>
<script>MathJax = {tex: {inlineMath: [["$", "$"]]}};</script><script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</html>
